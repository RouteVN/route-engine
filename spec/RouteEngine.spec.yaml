file: "../src/RouteEngine.js"
group: RouteEngine
---
suite: RouteEngine
mode: class
exportName: default
constructorArgs: []
---
case: should initialize with the initial ids
executions:
  - method: onEvent
    in: [$mock:renderCallback]
  - method: init
    in:
      - vnData: !include ./data/testVnData.yaml
    asserts:
      - method: _vnDataStore.selectInitialIds
        in: []
        out:
          sceneId: ajfl3a
          sectionId: l3kjfawelf
          lineId: line1
          presetId: bj342s
          autoNext:
            delay: 1000
mocks:
  renderCallback:
    calls:
      - in:
          - eventType: render
            payload:
              elements:
                - id: visual-39kdfj231
                  type: sprite
                  url: file:94lkj289
                  x: 960
                  y: 540
                  xa: 0.5
                  ya: 0.5
                - id: bg-screen
                  type: graphics
                  x1: 0
                  x2: 1920
                  y1: 0
                  y2: 1080
                  fill: "#000000"
                  clickEventName: LeftClick
                  rightClickEventName: RightClick
                  wheelEventName: ScrollUp
              transitions:
                - id: 39kdfj231-animation
                  type: keyframes
                  event: add
                  elementId: visual-39kdfj231
                  animationProperties:
                    alpha:
                      initialValue: 0
                      keyframes:
                        - duration: 1000
                          value: 1
                          easing: linear
---
case: should demonstrate testing event callbacks
executions:
  - method: onEvent
    in: [$mock:eventCallbackMock]
  - method: _eventCallback
    in:
      - eventType: render
        payload:
          test: payload
  - method: _eventCallback
    in:
      - eventType: customEvent
        payload:
          data: 123
  - method: offEvent
    in: []
  - method: _eventCallback
    in:
      - eventType: render
        payload:
          another: payload
mocks:
  eventCallbackMock:
    calls:
      - in:
          - eventType: render
            payload:
              test: payload
      - in:
          - eventType: customEvent
            payload:
              data: 123

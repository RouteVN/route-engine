file: "../../../src/stores/constructRenderState.js"
group: constructRenderState.addDialogue
suites: [addDialogue]
---
suite: addDialogue
exportName: addDialogue
---
case: dialogueUIHidden true - return unchanged state
in:
  - elements:
      - id: "story"
        type: "container"
        x: 0
        y: 0
        children: []
    animations: []
  - presentationState:
      dialogue:
        gui:
          resourceId: "dialogueLayout"
        content: ["Hello world"]
    resources:
      layouts:
        dialogueLayout:
          elements:
            - type: "text"
              content: "Dialogue text"
    dialogueUIHidden: true
    autoMode: false
    skipMode: false
    currentLocalizationPackageId: null
out:
  elements:
    - id: "story"
      type: "container"
      x: 0
      y: 0
      children: []
  animations: []
---
case: no presentationState.dialogue - return unchanged state
in:
  - elements:
      - id: "story"
        type: "container"
        x: 0
        y: 0
        children: []
    animations: []
  - presentationState: {}
    resources: {}
    dialogueUIHidden: false
    autoMode: false
    skipMode: false
    currentLocalizationPackageId: null
out:
  elements:
    - id: "story"
      type: "container"
      x: 0
      y: 0
      children: []
  animations: []
---
case: nvl-template-receives-lines
in:
  - elements:
      - id: "story"
        type: "container"
        x: 0
        y: 0
        children: []
    animations: []
  - presentationState:
      dialogue:
        mode: "nvl"
        gui:
          resourceId: "nvl-layout"
        characterId: "bob"
        content:
          - text: "Third line"
        lines:
          - content:
              - text: "First line"
            characterId: "narrator"
          - content:
              - text: "Second line"
            characterId: "alice"
          - content:
              - text: "Third line"
            characterId: "bob"
    resources:
      layouts:
        nvl-layout:
          elements:
            - id: "nvl-container"
              type: "container"
              children: []
      characters:
        narrator:
          name: "Narrator"
        alice:
          name: "Alice"
        bob:
          name: "Bob"
    dialogueUIHidden: false
    autoMode: false
    skipMode: false
    currentLocalizationPackageId: null
out:
  elements:
    - id: "story"
      type: "container"
      x: 0
      y: 0
      children:
        - id: "nvl-container"
          type: "container"
          children: []
  animations: []
---
case: nvl-multi-line-display
in:
  - elements:
      - id: "story"
        type: "container"
        x: 0
        y: 0
        children: []
    animations: []
  - presentationState:
      dialogue:
        mode: "nvl"
        gui:
          resourceId: "nvl-layout"
        content:
          - text: "Narration without character"
        lines:
          - content:
              - text: "Line with character"
            characterId: "alice"
          - content:
              - text: "Narration without character"
            characterId: null
    resources:
      layouts:
        nvl-layout:
          elements:
            - id: "nvl-container"
              type: "container"
              children: []
      characters:
        alice:
          name: "Alice"
    dialogueUIHidden: false
    autoMode: false
    skipMode: false
    currentLocalizationPackageId: null
out:
  elements:
    - id: "story"
      type: "container"
      x: 0
      y: 0
      children:
        - id: "nvl-container"
          type: "container"
          children: []
  animations: []

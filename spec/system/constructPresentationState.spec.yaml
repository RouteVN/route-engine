file: "../../src/stores/constructPresentationState.js"
group: constructPresentationState
suites: [constructPresentationState]
---
suite: constructPresentationState
exportName: constructPresentationState
---
case: construct presentation state with single base action
in:
  - - base:
        resourceId: "mainBase"
out:
  base:
    resourceId: "mainBase"
---
case: construct presentation state with multiple actions in one presentation
in:
  - - base:
        resourceId: "mainBase"
      background:
        resourceId: "bgImage"
      bgm:
        resourceId: "backgroundMusic"
        loop: true
out:
  base:
    resourceId: "mainBase"
  background:
    resourceId: "bgImage"
  bgm:
    resourceId: "backgroundMusic"
    loop: true
---
case: construct presentation state with clean all and multiple presentations
in:
  - - cleanAll: true
      base:
        resourceId: "oldBase"
    - base:
        resourceId: "newBase"
      background:
        resourceId: "newBg"
out:
  base:
    resourceId: "newBase"
  background:
    resourceId: "newBg"
---
case: dialogue characterId should be cleared when second presentation has undefined characterId
in:
  - - dialogue:
        mode: "adv"
        gui:
          resourceId: "simple-dialogue"
        characterId: "character-123"
        content:
          - text: "Hello"
    - dialogue:
        mode: "adv"
        gui:
          resourceId: "simple-dialogue"
out:
  dialogue:
    mode: "adv"
    gui:
      resourceId: "simple-dialogue"
    content:
      - text: "Hello"

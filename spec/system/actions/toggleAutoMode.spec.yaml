file: "../../../src/stores/system.store.js"
group: systemStore.toggleAutoMode
suites: [toggleAutoMode]
---
suite: toggleAutoMode
exportName: toggleAutoMode
---
case: toggle auto mode from false to true
in:
  - state:
      global:
        autoMode: false
        isLineCompleted: false
        pendingEffects: []
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: true
    isLineCompleted: false
    variables:
      _autoForwardTime: 1000
    pendingEffects:
      - name: clearAutoNextTimer
      - name: render
---
case: toggle auto mode from false to true when line completed
in:
  - state:
      global:
        autoMode: false
        isLineCompleted: true
        pendingEffects: []
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: true
    isLineCompleted: true
    variables:
      _autoForwardTime: 1000
    pendingEffects:
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        payload:
          delay: 1000
      - name: render
---
case: toggle auto mode from true to false
in:
  - state:
      global:
        autoMode: true
        isLineCompleted: false
        pendingEffects: []
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: false
    isLineCompleted: false
    variables:
      _autoForwardTime: 1000
    pendingEffects:
      - name: clearAutoNextTimer
      - name: render
---
case: toggle auto mode from false to true with skip mode enabled
in:
  - state:
      global:
        autoMode: false
        skipMode: true
        isLineCompleted: false
        pendingEffects: []
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: true
    variables:
      _autoForwardTime: 1000
    skipMode: false
    isLineCompleted: false
    pendingEffects:
      - name: clearSkipNextTimer
      - name: clearAutoNextTimer
      - name: render
---
case: toggle auto mode from true to false with skip mode enabled
in:
  - state:
      global:
        autoMode: true
        skipMode: true
        isLineCompleted: false
        pendingEffects: []
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: false
    variables:
      _autoForwardTime: 1000
    skipMode: true
    isLineCompleted: false
    pendingEffects:
      - name: clearAutoNextTimer
      - name: render
---
case: toggle auto mode with existing pending effects (disabled to enabled)
in:
  - state:
      global:
        autoMode: false
        isLineCompleted: false
        pendingEffects:
          - name: existingEffect
            data: test
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: true
    isLineCompleted: false
    variables:
      _autoForwardTime: 1000
    pendingEffects:
      - name: existingEffect
        data: test
      - name: clearAutoNextTimer
      - name: render
---
case: toggle auto mode with existing pending effects (enabled to disabled)
in:
  - state:
      global:
        autoMode: true
        isLineCompleted: false
        pendingEffects:
          - name: existingEffect
            data: test
        variables:
          _autoForwardTime: 1000
out:
  global:
    autoMode: false
    isLineCompleted: false
    variables:
      _autoForwardTime: 1000
    pendingEffects:
      - name: existingEffect
        data: test
      - name: clearAutoNextTimer
      - name: render
---
case: toggle auto mode with custom _autoForwardTime
in:
  - state:
      global:
        autoMode: false
        isLineCompleted: true
        pendingEffects: []
        variables:
          _autoForwardTime: 2500
out:
  global:
    autoMode: true
    isLineCompleted: true
    variables:
      _autoForwardTime: 2500
    pendingEffects:
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        payload:
          delay: 2500
      - name: render
---
case: toggle auto mode with default _autoForwardTime (not set)
in:
  - state:
      global:
        autoMode: false
        isLineCompleted: true
        pendingEffects: []
        variables: {}
out:
  global:
    autoMode: true
    isLineCompleted: true
    variables: {}
    pendingEffects:
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        payload:
          delay: 1000
      - name: render

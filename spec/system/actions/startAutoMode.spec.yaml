file: "../../../src/stores/system.store.js"
group: systemStore.startAutoMode
suites: [startAutoMode]
---
suite: startAutoMode
exportName: startAutoMode
---
case: start auto mode
in:
  - state:
      global:
        autoMode: false
        pendingEffects: []
        nextLineConfig:
          auto:
            delay: 1000
out:
  global:
    autoMode: true
    pendingEffects:
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        delay: 1000
      - name: render
    nextLineConfig:
      auto:
        delay: 1000
---
case: start auto mode when already enabled
in:
  - state:
      global:
        autoMode: true
        pendingEffects: []
        nextLineConfig:
          auto:
            delay: 1000
out:
  global:
    autoMode: true
    pendingEffects:
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        delay: 1000
      - name: render
    nextLineConfig:
      auto:
        delay: 1000
---
case: start auto mode with skip mode enabled
in:
  - state:
      global:
        autoMode: false
        skipMode: true
        pendingEffects: []
        nextLineConfig:
          auto:
            delay: 1000
out:
  global:
    autoMode: true
    skipMode: false
    pendingEffects:
      - name: clearSkipNextTimer
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        delay: 1000
      - name: render
    nextLineConfig:
      auto:
        delay: 1000
---
case: start auto mode with existing pending effects
in:
  - state:
      global:
        autoMode: false
        pendingEffects:
          - name: existingEffect
            data: test
        nextLineConfig:
          auto:
            delay: 1000
out:
  global:
    autoMode: true
    pendingEffects:
      - name: existingEffect
        data: test
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        delay: 1000
      - name: render
    nextLineConfig:
      auto:
        delay: 1000
---
case: start auto mode with both auto and skip mode enabled
in:
  - state:
      global:
        autoMode: true
        skipMode: true
        pendingEffects:
          - name: existingEffect
        nextLineConfig:
          auto:
            delay: 1000
out:
  global:
    autoMode: true
    skipMode: false
    pendingEffects:
      - name: existingEffect
      - name: clearSkipNextTimer
      - name: clearAutoNextTimer
      - name: startAutoNextTimer
        delay: 1000
      - name: render
    nextLineConfig:
      auto:
        delay: 1000

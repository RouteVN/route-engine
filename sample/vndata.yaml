screen:
  width: 1920
  height: 1080

# initial pointers needed to display first step
initial:
  sectionId: "section3"
  presetId: "title"
  mode: "read"

  rootElement:
    id: root
    type: container
    animation:
      out:
        type: keyframes
        event: remove
        animationProperties:
          alpha:
            initialValue: 0.8
            keyframes:
              - duration: 600
                value: 0
                easing: linear
      in:
        type: keyframes
        event: add
        animationProperties:
          alpha:
            initialValue: 0.2
            keyframes:
              - duration: 600
                value: 1
                easing: linear

presets:
  title:
    listeners: {}
  read:
    listeners:
      LeftClick:
        actions:
          nextStep: {}
      RightClick:
        actions:
          setRuntimeState:
            currentPage: "about"
          moveToSection:
            sectionId: "section15"
            presetId: "menu"
            mode: "menu"
      ScrollUp:
        actions:
          prevStep: {}
      ControlDown:
        actions:
          startSkipMode: {}
      ControlUp:
        actions:
          stopSkipMode: {}
    # onEnter:
    #   actions:
    #     setRuntimeState:
    #       currentPage: "options"
  menu:
    listeners:
      RightClick:
        actions:
          exitMenu:
            presetId: "read"
            mode: "read"
    # onEnter:
    #   actions:
    #     setRuntimeState:
    #       currentPage: "options"

# visual novel resources that inlcudes all assets etc...
resources:
  designTokens:
    items:
      primaryColor:
        type: "color"
        description: "The primary color of the visual novel"
        value: "#ff74b2"
      secondaryColor:
        type: "color"
        description: "The secondary color of the visual novel"
        value: "#cc005b"
      borderColor:
        type: "color"
        description: "The border color of the visual novel"
        value: "#000000"
      backgroundColor:
        type: "color"
        description: "The background color of the visual novel"
        value: "#ffffff"
      textColor:
        type: "color"
        description: "The text color of the visual novel"
        value: "#000000"
      primaryFont:
        type: "fontFamily"
        description: "The primary font of the visual novel"
        value: "Arial"
      secondaryFont:
        type: "fontFamily"
        description: "The secondary font of the visual novel"
        value: "Helvetica"
      primaryFontSize:
        type: "fontSize"
        description: "The primary font size of the visual novel"
        value: 16
      primaryLargeFontSize:
        type: "fontSize"
        description: "The primary large font size of the visual novel"
        value: 24
      defaultMargin:
        type: "spacing"
        description: "The margin of the visual novel"
        value: 16
      defaultPadding:
        type: "spacing"
        description: "The padding of the visual novel"
        value: 16
      primaryFontStyle:
        type: "textStyle"
        description: "The primary font of the visual novel"
        value:
          fontFamily: "{{ designTokens.primaryFont }}"
          fontSize: "{{ designTokens.primaryFontSize }}"
          fontWeight: 400
          lineHeight: 1.5
          letterSpacing: 0
      primaryLargeFontStyle:
        type: "textStyle"
        description: "The primary font of the visual novel"
        value:
          fontFamily: "{{ designTokens.primaryFont }}"
          fontSize: "{{ designTokens.primaryLargeFontSize }}"
          fontWeight: 700
          lineHeight: 1.5
          letterSpacing: 0

  variables:
    items:
      currentPage:
        scope: runtime
        type: enum
        values:
          about: About
          main: Main
        editable: true
        default: about

      hideExitMenuConfirmationModal:
        scope: runtime
        type: boolean
        editable: true
        default: true

      musicVolume:
        scope: device
        type: number
        min: 0
        max: 1
        editable: true
        default: 1

      soundVolume:
        scope: device
        type: number
        min: 0
        max: 1
        editable: true
        default: 1

      clickSoundVolume:
        scope: device
        type: number
        min: 0
        max: 1
        editable: true
        default: 1

      rollbackSide:
        scope: device
        type: enum
        values:
          left: Left
          right: Right
        editable: true
        default: left

      skipTransitions:
        scope: device
        type: boolean
        editable: true
        default: false

      skipUnseenText:
        scope: device
        type: boolean
        editable: true
        default: false

      muteAll:
        scope: device
        type: boolean
        editable: true
        default: false

      language:
        scope: device
        type: enum
        values:
          en_default: English
        editable: true
        default: en_default

      novelCompleted:
        scope: persistent
        type: boolean
        editable: true
        default: false

      saveData:
        scope: persistent
        type: array
        editable: true
        default: []

  background:
    items:
      bg1:
        src: /public/demo-assets-1/bg livingroom.webp
      bg2:
        src: /public/demo-assets-1/bg forest.webp
      cg1:
        src: /public/demo-assets-1/cg pick flowers.webp

  visual:
    items:
      candle:
        src: "/public/first-contract/images/candle.webp"
  bgm:
    items:
      bgm1:
        src: "/public/first-contract/audio/friend ritual.ogg"
      bgm2:
        src: "/public/first-contract/audio/play together.ogg"
      title:
        src: "/public/first-contract/audio/title.ogg"
  sfx:
    items:
      candle:
        src: "/public/first-contract/audio/sfx_candle.wav"
  character:
    items:
      red:
        id: red
        name: Red
        variables:
          mainColor: "#fe3d65"
        sprites:
          parts:
            base:
              label: Base
          items:
            red_base:
              name: "Red Base"
              src: "/public/demo-assets-1/char red.webp"
            red_base_2:
              name: "Red Base"
              src: "/public/demo-assets-1/char red 2.webp"
      mom:
        id: mom
        name: Mom
        variables:
          mainColor: "#fa8f76"
        sprites:
          parts:
            base:
              label: Base
          items:
            mom_base:
              name: "Mom Base"
              src: "/public/demo-assets-1/mom.webp"
      wolf:
        id: wolf
        name: Wolf
        variables:
          mainColor: "#c2c8d8"
        sprites:
          parts:
            base:
              label: Base
          items:
            wolf_base:
              name: "Wolf Base"
              src: "/public/demo-assets-1/wolf.webp"

  position:
    items:
      character_left:
        name: "Character Left"
        x: 520
        y: 1080
        xa: 0.5
        ya: 1
      character_center:
        name: "Character Center"
        x: 960
        y: 1080
        xa: 0.5
        ya: 1
      character_right:
        name: "Character Right"
        x: 1400
        y: 1080
        xa: 0.5
        ya: 1
      visual_center:
        name: "Visual Center"
        x: 960
        y: 70
        xa: 0.5
        ya: 0
      center_center:
        name: "Center Center"
        x: 640
        y: 360
        xa: 0.5
        ya: 0.5
  animation:
    items:
      ani1:
        name: "Fade In"
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 700
                value: 1
                easing: linear
      ani2:
        name: "Delayed Fade In"
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 700
                value: 0
                easing: linear
              - duration: 1400
                value: 1
                easing: linear
      extraFadeIn:
        name: "Extra Fade In"
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 2000
                value: 0
                easing: linear
              - duration: 1400
                value: 1
                easing: linear
      ani3:
        name: "Long Delayed Fade In"
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 1400
                value: 0
                easing: linear
              - duration: 700
                value: 1
                easing: linear
      ani4:
        name: "Fade Out"
        properties:
          alpha:
            initialValue: 1
            keyframes:
              - duration: 1000
                value: 0
                easing: linear
      ani5:
        name: "Slide Left and Flip"
        properties:
          x:
            keyframes:
              - duration: 600
                relative: true
                value: -600
                easing: linear
          "scale.x":
            keyframes:
              - duration: 0
                value: -1
                easing: linear
      ani7:
        name: "Slide Right"
        properties:
          x:
            keyframes:
              - duration: 0
                relative: true
                value: -600
                easing: linear
              - duration: 600
                relative: true
                value: 600
                easing: linear
          "scale.x":
            keyframes:
              - duration: 0
                value: 1
                easing: linear
      ani6:
        name: "Shake"
        properties:
          y:
            keyframes:
              - duration: 100
                relative: true
                value: 20
                easing: linear
              - duration: 100
                relative: true
                value: -40
                easing: linear
              - duration: 100
                relative: true
                value: 40
                easing: linear
      ani8:
        name: Title splash
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 1000
                value: 1
                easing: linear
              - duration: 2000
                value: 1
                easing: linear
              - duration: 1000
                value: 0
                easing: linear
      titleLogo:
        name: Title Logo
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 500
                value: 1
                easing: linear
          y:
            keyframes:
              - duration: 0
                relative: true
                value: 20
                easing: linear
              - duration: 400
                relative: true
                value: -20
                easing: linear
      titleBg:
        name: Title Background
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 1000
                value: 0
                easing: linear
              - duration: 1000
                value: 1
                easing: linear
      aniButtonFrame:
        name: Button Frame
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 2000
                value: 0
                easing: linear
              - duration: 1000
                value: 1
                easing: linear
      aniFadeInScreen:
        name: Fade In Screen
        properties:
          alpha:
            initialValue: 0
            keyframes:
              - duration: 500
                value: 1
                easing: linear
      aniFadeOutScreen:
        name: Fade Out Screen
        properties:
          alpha:
            initialValue: 1
            keyframes:
              - duration: 2000
                value: 0
                easing: linear
  screen:
    items:
      menuBase:
        layout:
          - id: "aboufef3f2gd3t"
            type: "sprite"
            alpha: 0.3
            url: "/public/demo-assets-1/menu.webp"
          - id: "about3-{{ runtimeState.currentPage }}"
            type: "container"
            anchor: "CenterLeft"
            direction: "vertical"
            width: 200
            height: 300
            x: 60
            y: 360
            data:
              - text: Start
                page: start
                eventPayload:
                  actions:
                    moveToSection:
                      sectionId: section21
                      mode: read
                      presetId: read
                      addToSection: true
                    setRuntimeState:
                      currentPage: "start"
              - text: About
                page: about
                eventPayload:
                  actions:
                    setRuntimeState:
                      currentPage: "about"
            template:
              mapping:
                cases:
                  - case:
                      property: page
                      op: eq
                      value: "{{ runtimeState.currentPage }}"
                    then: selected
                default: default
              items:
                - template: default
                  id: "ck3iladfkj3"
                  page: { { page } }
                  text: "{{ text }}"
                  eventName: "Actions"
                  eventPayload: "{{ eventPayload }}"
                  type: "text"
                  width: 120
                  height: 60
                  style:
                    fill: "#ccc"
                    fontSize: 48
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6
                  hoverStyle:
                    fontSize: 48
                    fill: "#fe3d65"
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6
                  clickSoundUrl: "/public/first-contract/audio/sfx_button1.wav"
                  clickSoundVolume: "{{ deviceState.soundVolume }}"
                - template: selected
                  id: "c94k2ladfkj3"
                  text: "{{ text }}"
                  eventName: "{{ eventName }}"
                  type: "text"
                  width: 120
                  height: 40
                  style:
                    fill: "white"
                    fontSize: 48
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6

          - id: "ladf421k4dd2j3"
            type: "text"
            x: 60
            y: 640
            width: 120
            height: 60
            text: Return
            eventName: Actions
            eventPayload:
              actions:
                exitMenu:
                  presetId: title
            style:
              fill: "#ccc"
              fontSize: 48
              fontFamily: "Arial"
              wordWrapWidth: 1740
              strokeColor: black
              strokeWidth: 6
            hoverStyle:
              fontSize: 48
              fill: "#fe3d65"
              fontFamily: "Arial"
              wordWrapWidth: 1740
              strokeColor: black
              strokeWidth: 6
            clickSoundUrl: "/public/first-contract/audio/sfx_button1.wav"
            clickSoundVolume: "{{ deviceState.soundVolume }}"
      menuGame:
        layout:
          - id: "abosdfeut"
            type: "sprite"
            url: /public/demo-assets-1/menu.webp
            alpha: 0.3

          # TODO t100288: find better way to handle diffs and id
          - id: "about3-{{ runtimeState.currentPage }}"
            type: "container"
            anchor: "CenterLeft"
            direction: "vertical"
            width: 200
            height: 300
            x: 20
            y: 360
            data:
              - text: About
                page: about
                eventPayload:
                  actions:
                    setRuntimeState:
                      currentPage: "about"
              - text: Main
                page: main
                eventPayload:
                  actions:
                    setRuntimeState:
                      hideExitMenuConfirmationModal: false
            template:
              mapping:
                cases:
                  - case:
                      property: page
                      op: eq
                      value: "{{ runtimeState.currentPage }}"
                    then: selected
                default: default
              items:
                - template: default
                  id: "xm4934ladfkj3"
                  page: { { page } }
                  text: "{{ text }}"
                  eventName: "Actions"
                  eventPayload: "{{ eventPayload }}"
                  type: "text"
                  width: 120
                  height: 60
                  style:
                    fill: "#ccc"
                    fontSize: 48
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6
                  hoverStyle:
                    fontSize: 48
                    fill: "#fe3d65"
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6
                - template: selected
                  id: "cdk3ladfkj3"
                  text: "{{ text }}"
                  eventName: "{{ eventName }}"
                  type: "text"
                  width: 120
                  height: 60
                  style:
                    fill: "white"
                    fontSize: 48
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6

          - id: "about3412x"
            type: "container"
            anchor: "CenterLeft"
            direction: "vertical"
            width: 200
            height: 300
            x: 20
            y: 640
            children:
              - id: "ladf421k4dd2j3"
                type: "text"
                width: 120
                height: 60
                text: Return
                eventName: Actions
                eventPayload:
                  actions:
                    exitMenu:
                      presetId: read
                style:
                  fill: "#ccc"
                  fontSize: 48
                  fontFamily: "Arial"
                  wordWrapWidth: 1740
                  strokeColor: black
                  strokeWidth: 6
                hoverStyle:
                  fontSize: 48
                  fill: "#fe3d65"
                  fontFamily: "Arial"
                  wordWrapWidth: 1740
                  strokeColor: black
                  strokeWidth: 6

      mainMenu:
        transitions:
          - id: "f34afeja"
            type: keyframes
            elementId: "labi-0"
            event: add
            animationProperties:
              alpha:
                initialValue: 0
                keyframes:
                  - duration: 0
                    value: 0
                    easing: linear
                  - duration: 1000
                    value: 1
                    easing: linear
          - id: "f34afeja1"
            type: keyframes
            elementId: "labi-1"
            event: add
            animationProperties:
              alpha:
                initialValue: 0
                keyframes:
                  - duration: 300
                    value: 0
                    easing: linear
                  - duration: 300
                    value: 1
                    easing: linear
          - id: "f34afeja2"
            type: keyframes
            elementId: "labi-2"
            event: add
            animationProperties:
              alpha:
                initialValue: 0
                keyframes:
                  - duration: 600
                    value: 0
                    easing: linear
                  - duration: 300
                    value: 1
                    easing: linear
          - id: "f34afeja3"
            type: keyframes
            elementId: "labi-3"
            event: add
            animationProperties:
              alpha:
                initialValue: 0
                keyframes:
                  - duration: 900
                    value: 0
                    easing: linear
                  - duration: 300
                    value: 1
                    easing: linear
        layout:
          - id: "efaboufef3f2gd3sfet"
            type: "sprite"
            url: "/public/demo-assets-1/Title.webp"
            alpha: 0.8
          - id: "efaboufef3f2gd3t"
            type: "sprite"
            alpha: 0.5
            url: "/public/demo-assets-1/menu.webp"
          - id: "mainMenu"
            type: "container"
            anchor: "CenterCenter"
            direction: "vertical"
            x: 960
            y: 480
            data:
              - text: Start
                eventPayload:
                  actions:
                    setRuntimeState:
                      currentPage: "start"
                    moveToSection:
                      sectionId: section21
                      presetId: read
                      mode: read
                      addToSection: true
              - text: About
                eventPayload:
                  actions:
                    setRuntimeState:
                      currentPage: "about"
                    moveToSection:
                      sectionId: section16
                      mode: menu
                      presetId: menu
              - text: Exit
                eventPayload:
                  actions:
                    exitVisualNovel: {}
            template:
              mapping:
                cases:
                  - case: []
                default: default
              items:
                - template: default
                  id: "labi-{{ index }}"
                  text: "{{ text }}"
                  eventName: "Actions"
                  eventPayload: "{{ eventPayload }}"
                  type: "text"
                  style:
                    fill: "#ccc"
                    fontSize: 58
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6
                  hoverStyle:
                    fontSize: 58
                    fill: "#fe3d65"
                    fontFamily: "Arial"
                    wordWrapWidth: 1740
                    strokeColor: black
                    strokeWidth: 6
                  clickSoundUrl: "/public/first-contract/audio/sfx_button1.wav"
                  clickSoundVolume: "{{ deviceState.soundVolume }}"
      skipMenu:
        layout:
          - id: "skipMifeakjefkljenu"
            type: "container"
            anchor: "TopLeft"
            direction: "horizontal"
            x: 0
            y: 10
            children:
              - id: "skiptext"
                text: "Skip"
                type: "text"
                x: 50
                y: 10
                xa: 0
                ya: 0
                style:
                  fill: "white"
                  fontSize: 32
                  fontFamily: "Arial"
                  wordWrapWidth: 1740
      menuTabs:
        layout:
          - id: "menuTabs-{{ persistentState.saveData | hashFilter }}"
            type: "container"
            selectedTabId: "{{ runtimeState.currentPage }}"
            animation:
              key: "{{ runtimeState.currentPage }}"
              out:
                type: keyframes
                event: remove
                animationProperties:
                  alpha:
                    initialValue: 0.8
                    keyframes:
                      - duration: 600
                        value: 0
                        easing: linear
              in:
                type: keyframes
                event: add
                animationProperties:
                  alpha:
                    initialValue: 0.2
                    keyframes:
                      - duration: 600
                        value: 1
                        easing: linear
            children:
              - id: "aboutasdfukl33"
                tabId: about
                type: "container"
                children:
                  - id: "lad3fkj3"
                    text: About
                    x: 60
                    y: 60
                    type: "text"
                    width: 120
                    height: 40
                    style:
                      fill: "#fe3d65"
                      fontSize: 120
                      fontFamily: "Arial"
                      wordWrapWidth: 1740
                      strokeColor: black
                      strokeWidth: 6
                  - id: "about32fs2"
                    type: "container"
                    anchor: "TopLeft"
                    direction: "vertical"
                    x: 480
                    y: 250
                    gap: 20
                    width: 780
                    height: 1000
                    children:
                      - id: "jkg93ladfkj3"
                        text: Little Red Hood's Forest Journey 
                        type: "text"
                        width: 120
                        height: 60
                        style:
                          fill: "#fe3d65"
                          fontSize: 48
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                          strokeColor: black
                          strokeWidth: 6
                      - id: "g34ladfkj3"
                        text: Version 0.0.1
                        type: "text"
                        width: 120
                        height: 36
                        style:
                          fill: "white"
                          fontSize: 28
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                          strokeColor: black
                          strokeWidth: 6
                      - id: "234gladfkj3"
                        text: Created by Yuusoft
                        type: "text"
                        width: 120
                        height: 40
                        style:
                          fill: "white"
                          fontSize: 28
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                          strokeColor: black
                          strokeWidth: 6
                      - id: "lcdfeadfkj3"
                        text: Various sound effects downloaded from freesound.org
                        type: "text"
                        width: 120
                        height: 40
                        style:
                          fill: "white"
                          fontSize: 28
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                          strokeColor: black
                          strokeWidth: 6
                      - id: "ladgdffkj3"
                        text: This is Visual Novel was created as a demo for RouteVN. The story is based on the classic Little Red Riding Hood.
                        type: "text"
                        width: 120
                        height: 40
                        style:
                          fill: "white"
                          fontSize: 28
                          fontFamily: "Arial"
                          wordWrapWidth: 900
                          strokeColor: black
                          strokeWidth: 6
          - id: "adgeaer"
            type: container
            zIndex: 2006
            hidden: "{{ runtimeState.hideExitMenuConfirmationModal }}"
            x: 0
            y: 0
            width: 120
            height: 40
            children:
              - id: overlayConfirm3d
                type: "container"
                zIndex: 2005
                x: 0
                y: 0
                children:
                  - id: "ladf423kj3"
                    type: graphics
                    zIndex: 1000
                    x1: 0
                    x2: 1280
                    y1: 0
                    y2: 720
                    fill: "black"
                    alpha: 0.5
                  - id: "ladf1kj3"
                    type: sprite
                    zIndex: 800
                    xa: 0.5
                    ya: 0.5
                    x: 960
                    y: 540
                    width: 960
                    height: 280
                    url: "/public/demo-assets-1/frame.webp"
                  - id: "ladfkj42d3"
                    type: text
                    zIndex: 1005
                    text: "Are you sure you want to return to the main menu? This will lose unsaved progress."
                    xa: 0.5
                    ya: 0.5
                    x: 960
                    y: 500
                    style:
                      fill: "white"
                      fontSize: 34
                      fontFamily: "Arial"
                      wordWrapWidth: 880
                      align: center
                  - id: "ladfkj42dxi3"
                    type: container
                    anchor: "CenterCenter"
                    direction: "horizontal"
                    zIndex: 1002
                    gap: 120
                    x: 960
                    y: 600
                    children:
                      - id: "ladfkj42dxi3"
                        type: text
                        text: "Yes"
                        zIndex: 1005
                        eventName: Actions
                        eventPayload:
                          actions:
                            exitMenu:
                              sectionId: section3
                              presetId: title
                              mode: read
                              resetHistory: true
                            setRuntimeState:
                              hideExitMenuConfirmationModal: true
                        style:
                          fill: "#ccc"
                          fontSize: 32
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                        hoverStyle:
                          fontSize: 32
                          fill: "#fe3d65"
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                      - id: "ladfkj42dxi3"
                        type: text
                        text: "No"
                        zIndex: 1005
                        eventName: Actions
                        eventPayload:
                          actions:
                            setRuntimeState:
                              hideExitMenuConfirmationModal: true
                        style:
                          fill: "#ccc"
                          fontSize: 32
                          fontFamily: "Arial"
                          wordWrapWidth: 1740
                        hoverStyle:
                          fontSize: 32
                          fill: "#fe3d65"
                          fontFamily: "Arial"
                          wordWrapWidth: 1740

  dialogueBox:
    items:
      dialogueBox1:
        name: "Dialogue Box 1"
        layout:
          - id: "askldjfetitle"
            type: "sprite"
            xa: 0
            ya: 1
            x: 50
            y: 1100
            url: "/public/demo-assets-1/saybox.png"
          - id: "name"
            type: text
            x: 320
            y: 810
            width: 43
            height: 48
            text: "{{ character.name }}"
            style:
              fill: "{{ character.variables.mainColor }}"
              fontSize: 44
              fontFamily: "Arial"
              wordWrapWidth: 500
              strokeColor: black
              strokeWidth: 6
          # fix templating and remove container
          - id: awefgsgf3
            type: container
            anchor: TopLeft
            direction: horizontal
            x: 320
            y: 866
            children:
              - id: "name3"
                # type: text-revealing
                type: text
                width: 43
                height: 128
                displaySpeed: 80
                hasEnded: false
                text: "{{ dialogue.text }}"
                style:
                  fill: "white"
                  fontSize: 36
                  fontFamily: "Arial"
                  wordWrapWidth: 1280
                  strokeColor: black
                  strokeWidth: 3

story:
  sections:
    section3:
      id: "section3"
      steps:
        - id: "s3step1"
          actions:
            bgm:
              bgmId: "title"
            visual:
              items:
                - id: mainMenu
                  visualId: "mainMenu"
                  position:
                    positionId: center_center
                - id: "logo"
                  visualId: "logo"
                  position:
                    x: 640
                    y: 305
                    xa: 0.5
                    ya: 0.5
                - id: buttonFrame
                  visualId: buttonFrame
                  position:
                    x: 640
                    y: 640
                    xa: 0.5
                    ya: 0.5
            screen:
              items:
                - id: kj3m23
                  screenId: "mainMenu"
                
    section15:
      name: menu tabs
      steps:
        - id: s14s1
          actions:
            screen:
              items:
                - id: 324x34adk
                  screenId: "menuGame"
                - id: fkje4aeffeawk2kl
                  screenId: "menuTabs"
    section16:
      name: menu tabs 2
      steps:
        - id: s14s1
          actions:
            screen:
              items:
                - id: 324x34adk
                  screenId: "menuBase"
                - id: fkje4aeffeawk2kl
                  screenId: "menuTabs"
    section21:
      id: "section21"
      steps:
        - id: "step58"
          actions:
            background:
              backgroundId: "bg1"
            dialogue:
              dialogueBoxId: "dialogueBox1"
              text: "It was a bright, cheerful morning. The sun streamed through the windows, filling the room with warmth"
        - id: "step59"
          actions:
            character:
              items:
                - id: "mom"
                  characterId: "mom"
                  position:
                    positionId: "character_right"
                  spriteParts:
                    - partId: base
                      spriteId: mom_base
            dialogue:
              character:
                characterId: "mom"
              text: "Good morning little Red, did you sleep well?"
        - id: "step60"
          actions:
            character:
              items:
                - id: "red"
                  characterId: "red"
                  position:
                    positionId: "character_left"
                  spriteParts:
                    - partId: base
                      spriteId: red_base
            dialogue:
              character:
                characterId: "red"
              text: "Morning, Mom! Yes, I slept great! What's for breakfast?"
        - id: "step61"
          actions:
            dialogue:
              character:
                characterId: "mom"
              text: We have your favourite pancakes and honey! But first, could you do me a favour?
        - id: "step63"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "Of course, Mom! What do you need?"
            character:
              items:
                - id: "red"
                  characterId: "red"
                  position:
                    positionId: "character_left"
                  spriteParts:
                    - partId: base
                      spriteId: red_base_2
        - id: "step64"
          actions:
            dialogue:
              character:
                characterId: "mom"
              text: "Your Grandma isn't feeling too well. Could you take her this basket of goodies? I've packed some biscuits to help her feel better?"
        - id: "step65"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "I'd love to help Grandma! I'll go right after breakfast."
            character:
              items:
                - id: "red"
                  characterId: "red"
                  position:
                    positionId: "character_left"
                  spriteParts:
                    - partId: base
                      spriteId: red_base
        - id: "step66"
          actions:
            character:
              items:
                - id: "mom"
                  characterId:
            background:
              backgroundId: "bg2"
            dialogue:
              character:
                characterId:
              text: "Little Red Riding Hood sets out for her journey, the path shaded by tall, whispering trees. The air is fresh, but the forest feels unusually quiet today"
        - id: "step67"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "The forest is so peaceful. I hope Grandma likes what Mom made for her"
        - id: "step68"
          actions:
            dialogue:
              character:
                characterId:
              text: "While walking in the forest..."
        - id: "step70"
          actions:
            character:
              items:
                - id: "red"
                  characterId:
            dialogue:
              text: "Red start picking flowers"
        - id: "step71"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "Let's see, which ones should I pick?"
        - id: "step72"
          actions:
            dialogue:
              character:
                characterId:
              text: Suddenly, a figure emerges from behind a tree
        - id: "step73"
          actions:
            background:
              backgroundId: "bg2"
            character:
              items:
                - id: "red"
                  characterId: "red"
                  position:
                    positionId: "character_left"
                  spriteParts:
                    - partId: base
                      spriteId: red_base_2
                - id: "wolf"
                  characterId: "wolf"
                  position:
                    positionId: "character_right"
                  spriteParts:
                    - partId: base
                      spriteId: wolf_base
            dialogue:
              character:
                characterId: "wolf"
              text: "Hello there, where might you be going with that basket, little one?"
        - id: "step74"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "Hello! I'm going to my Grandma’s house"
        - id: "step741"
          actions:
            dialogue:
              character:
                characterId: "wolf"
              text: "Your Grandma's house? Where does she live?"
        - id: "step75"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "She lives just outside the forest. She’s not feeling well, so I’m bringing her some food"
        - id: "step76"
          actions:
            dialogue:
              character:
                characterId: "wolf"
              text: "That’s very thoughtful of you! You know, there’s a shortcut just there. It will get you to Grandma’s much faster"
        - id: "step77"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "Really? Thanks for the tip!"
            character:
              items:
                - id: "red"
                  characterId: "red"
                  position:
                    positionId: "character_left"
                  spriteParts:
                    - partId: base
                      spriteId: red_base
        - id: "step78"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: "Woah, it is getting late, I better hurry to Grandma's place"
        - id: "step82"
          actions:
            dialogue:
              character:
                characterId: "red"
              text: To be continued...
        - id: "step83"
          actions:
            moveToSection:
              sectionId: section3
            clearTempAction: true
            clearLatest: true

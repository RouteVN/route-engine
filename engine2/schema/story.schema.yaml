type: object
description: Defines the branching narrative structure of the VN.
required:
  - initialSceneId
  - scenes
definitions:
  action:
    $ref: "./action.schema.yaml"
  
  step:
    type: object
    required: [id, actions]
    properties:
      id:
        type: string
      actions:
        $ref: "#/definitions/action"

  section:
    type: object
    required: [name, steps]
    properties:
      name:
        type: string
      steps:
        type: array
        items:
          $ref: "#/definitions/step"

  scene:
    type: object
    required: [name, initialSectionId, sections]
    properties:
      name:
        type: string
      initialSectionId:
        type: string
      sections:
        type: object
        additionalProperties:
          $ref: "#/definitions/section"

properties:
  initialSceneId:
    type: string
    description: ID of the scene that starts the game.
  scenes:
    type: object
    additionalProperties:
      $ref: "#/definitions/scene" 
$schema: http://json-schema.org/draft-07/schema#
title: Project Data Schema
description: Main schema for visual novel project data that references all other schemas
type: object
properties:
  screen:
    type: object
    description: Screen configuration for the project
    properties:
      width:
        type: integer
        description: Screen width in pixels
      height:
        type: integer
        description: Screen height in pixels
      backgroundColor:
        type: string
        description: Background color for the screen
    required: [width, height]
    additionalProperties: false

  presets:
    type: object
    description: Collection of event handling presets
    patternProperties:
      "^[a-zA-Z0-9_-]+$":
        $ref: "projectData/presets.yaml"
    additionalProperties: false

  ui:
    type: object
    description: UI layout definitions
    properties:
      layouts:
        type: object
        description: Layout configurations for UI elements
        patternProperties:
          "^[a-zA-Z0-9_-]+$":
            type: object
            properties:
              name:
                type: string
                description: Display name for the layout
              elements:
                type: array
                description: Array of UI elements in this layout
                items:
                  type: object
                  additionalProperties: true
            additionalProperties: false
        additionalProperties: false
    additionalProperties: false

  resources:
    $ref: "projectData/resources.yaml"
    description: All project resources including images, audio, characters, etc.

  story:
    $ref: "projectData/story.yaml"
    description: Main story structure with scenes and sections

  variables:
    type: object
    description: Game variables and their initial values
    patternProperties:
      "^[a-zA-Z0-9_-]+$":
        oneOf:
          - type: string
          - type: number
          - type: boolean
    additionalProperties: false

required: [screen, presets, ui, resources, story]
additionalProperties: false

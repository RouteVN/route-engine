$schema: http://json-schema.org/draft-07/schema#
title: Resources Schema
description: Schema for all project resources including images, sounds, characters, etc.
type: object
properties:
  images:
    type: object
    description: Background image assets
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Image resource
        properties:
          fileId:
            type: string
            description: Reference to the background file resource
          fileType:
            type: string
            description: File type
          width:
            type: integer
            description: Width of the background image
          height:
            type: integer
            description: Height of the background image
        required: [fileId, width, height]
        additionalProperties: false
    additionalProperties: false

  characters:
    type: object
    description: Character sprite assets
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Character resource
        properties:
          name:
            type: string
            description: Display name for the character
        additionalProperties: false
    additionalProperties: false

  videos:
    type: object
    description: Video assets
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Video resource
        properties:
          fileId:
            type: string
            description: Reference to the video file resource
          fileType:
            type: string
            description: File type
          width:
            type: integer
            description: Width of the video
          height:
            type: integer
            description: Height of the video
        required: [fileId, width, height]
        additionalProperties: false
    additionalProperties: false

  spritesheets:
    type: object
    description: Spritesheet definitions containing image source and frame metadata
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        properties:
          fileId:
            type: string
            description: Reference to the spritesheet image file
          jsonData:
            type: object
            description: The JSON metadata (frames, meta)
          animations:
            type: object
            description: Map of named animations
            patternProperties:
              "^[a-zA-Z0-9_-]+$":
                type: object
                properties:
                  frames:
                    type: array
                    items:
                      type: number
                    description: Array of frame indices
                  animationSpeed:
                    type: number
                    description: Default playback speed (0.5 is standard)
                  loop:
                    type: boolean
                    description: Whether the animation loops
                required: [frames]
                additionalProperties: false
        required: [fileId, jsonData]
        additionalProperties: false

  transforms:
    type: object
    description: Transform configurations for positioning elements
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Transform configuration
        properties:
          x:
            description: X coordinate position
            type: integer
          y:
            description: Y coordinate position
            type: integer
          anchorX:
            description: X anchor point
            type: number
          anchorY:
            description: Y anchor point
            type: number
          scaleX:
            description: X scale factor
            type: number
          scaleY:
            description: Y scale factor
            type: number
          rotation:
            description: Rotation angle in degrees
            type: number
        additionalProperties: false
    additionalProperties: false

  tweens:
    type: object
    description: Tween definitions for various effects
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Tween definition
        properties:
          name:
            type: string
            description: Display name for the animation
          properties:
            type: object
            description: Animation properties and keyframes
            patternProperties:
              "^[a-zA-Z0-9]+$":
                type: object
                properties:
                  initialValue:
                    type: number
                    description: Starting value for the animated property
                  keyframes:
                    type: array
                    description: Array of keyframe definitions
                    items:
                      type: object
                      properties:
                        duration:
                          type: number
                          description: Duration of this keyframe in milliseconds
                          minimum: 0
                        value:
                          type: number
                          description: Target value for this keyframe
                        easing:
                          type: string
                          description: Easing function for the animation
                      required: [duration, value]
                      additionalProperties: false
                    minItems: 1
                required: [initialValue, keyframes]
                additionalProperties: false
            additionalProperties: false
        required: [name, properties]
        additionalProperties: false
    additionalProperties: false

  sounds:
    type: object
    description: Sounds, including bgm and sound effects
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Sound resource
        properties:
          fileId:
            type: string
            description: Reference to the sound file resource
          fileType:
            type: string
            description: File type
        required: [fileId]
        additionalProperties: false
    additionalProperties: false

  colors:
    type: object
    description: Color palette for the project
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Color resource
        properties:
          hex:
            type: string
            description: Hexadecimal color code
        required: [hex]
        additionalProperties: false
    additionalProperties: false

  fonts:
    type: object
    description: Font file for the project
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Font resource
        properties:
          fileId:
            type: string
            description: Reference to the font file resource
          fileType:
            type: string
            description: File type
        required: [fileId]
        additionalProperties: false
    additionalProperties: false

  typography:
    type: object
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Typography configuration
        properties:
          fontId:
            type: string
            description: Font file
          colorId:
            type: string
            description: Reference to color resource for font color
          fontSize:
            type: number
            description: Font size in pixels
          fontWeight:
            type: string
            description: Font weight
            enum:
              ["100", "200", "300", "400", "500", "600", "700", "800", "900"]
          fontStyle:
            type: string
            description: Font style
            enum: [normal, italic, oblique]
          lineHeight:
            type: number
            description: Line height. 1 = font size pixels
          strokeColorId:
            type: string
            description: Stroke reference to color resource for font color
          strokeWidth:
            type: number
            description: Stroke width
        required: [fontId, fontSize, fontWeight, fontStyle, lineHeight, colorId]
        additionalProperties: false
    additionalProperties: false

  keyboards:
    type: object
    description: Keyboard mapping configurations
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: A set of key-to-action mappings
        additionalProperties:
          type: object
          properties:
            actionPayload:
              type: object
          required: [actionPayload]
  layouts:
    type: object
    description: Layout configurations for UI elements
    patternProperties:
      "^[a-zA-Z0-9]+$":
        type: object
        description: Layout configuration
        properties:
          elements:
            type: array
            description: Array of UI elements in this layout
            items:
              type: object
              additionalProperties: true
        additionalProperties: false
    additionalProperties: false

  variables:
    type: object
    description: Variables and their initial values
    patternProperties:
      "^[a-zA-Z0-9]+$":
        description: Variable value
        required: [type, scope]
        properties:
          type:
            type: enum
            enum: [string, boolean, number]
          scope:
            type: enum
            enum: [runtime, device, global]
          default:
            description: Default initial value for the variable
            oneOf:
              - type: string
              - type: number
              - type: boolean
    additionalProperties: false

additionalProperties: false

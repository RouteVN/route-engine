$schema: http://json-schema.org/draft-07/schema#
title: Presentation Schema
description: Schema for presentation objects in visual novel engine. All properties are singular
type: object
properties:
  cleanAll:
    type: object
    description: Whether to clean/clear all existing state
    properties:
      mode:
        type: string
        description: Mode of cleaning/clearing all existing state
    additionalProperties: false

  background:
    type: object
    description: Background management and display
    properties:
      resourceId:
        type: string
        description: ID of the background resource to display
      resourceType:
        type: string
        description: Type of the background resource
        enum: [image]
      animations:
        type: object
        description: Animation effects for background transitions
        properties:
          in:
            type: object
            description: Animation configuration for background entrance
            properties:
              animationId:
                type: string
                description: ID of the animation to use
            required: [animationId]
            additionalProperties: false
          out:
            type: object
            description: Animation configuration for background exit
            properties:
              animationId:
                type: string
                description: ID of the animation to use
              resourceId:
                type: string
                description: ID of the resource to animate out
            required: [animationId, resourceId]
            additionalProperties: false
          update:
            type: object
            description: Animation configuration for background update
            properties:
              animationId:
                type: string
                description: ID of the animation to use
            required: [animationId]
            additionalProperties: false
        additionalProperties: false
    additionalProperties: false

  dialogue:
    type: object
    description: Dialogue display configuration
    properties:
      layoutId:
        type: string
        description: ID of the dialogue box UI element
      content:
        type: string
        description: The dialogue text content
      characterId:
        type: string
        description: ID of the character speaking
    additionalProperties: false

  character:
    type: object
    description: Character display and management
    properties:
      items:
        type: array
        description: Array of character items to display
        items:
          type: object
          properties:
            id:
              type: string
              description: Unique identifier for the character item
            transformId:
              type: string
              description: ID of the transform where character appears
            sprites:
              type: array
              description: Array of sprite parts that make up the character
              items:
                type: object
                properties:
                  id:
                    type: string
                    description: Identifier for the sprite part
                  imageId:
                    type: string
                    description: ID of the sprite part resource
                additionalProperties: false
          required: [id]
          additionalProperties: false
    additionalProperties: false

  visual:
    type: object
    description: Visual elements and effects technically same as background but different z index
    properties:
      items:
        type: array
        description: Array of visual items to display
        items:
          type: object
          properties:
            id:
              type: string
              description: Unique identifier for the visual item
            resourceId:
              type: string
              description: ID of the resource
            resourceType:
              type: string
              description: Type of the resource
            transformId:
              type: string
              description: ID of the transform where visual appears
            animations:
              type: object
              description: Animation effects for visual transitions
              properties:
                in:
                  type: object
                  description: Animation configuration for visual entrance
                  properties:
                    animationId:
                      type: string
                      description: ID of the animation to use
                  required: [animationId]
                  additionalProperties: false
                out:
                  type: object
                  description: Animation configuration for visual exit
                  properties:
                    animationId:
                      type: string
                      description: ID of the animation to use
                    resourceId:
                      type: string
                      description: ID of the resource to animate out
                  required: [animationId, resourceId]
                  additionalProperties: false
                update:
                  type: object
                  description: Animation configuration for visual update
                  properties:
                    animationId:
                      type: string
                      description: ID of the animation to use
                  required: [animationId]
                  additionalProperties: false
              additionalProperties: false
          required: [id]
          additionalProperties: false
    additionalProperties: false

  choice:
    type: object
    description: Choice system configuration
    properties:
      layoutId:
        type: string
        description: ID of the choice layout UI element
      items:
        type: array
        description: Array of choice options
        items:
          type: object
          properties:
            id:
              type: string
              description: Unique identifier for the choice option
            content:
              type: string
              description: Text content of the choice option
          required: [id, content]
          additionalProperties: false
    additionalProperties: false

  sfx:
    type: object
    description: Sound effects configuration
    properties:
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
              description: Unique identifier for the sound effect
            audioId:
              type: string
              description: ID of the sound effect resource
          required: [id, audioId]
          additionalProperties: false
    additionalProperties: false

  bgm:
    type: object
    description: Background music configuration
    properties:
      audioId:
        type: string
        description: ID of the background music resource
    additionalProperties: false

additionalProperties: false